<ons-page id="savings">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <i class="menuButtonIcon ion-md-menu"></i>
      </ons-toolbar-button>
    </div>
    <div class="center labelToolbar" id="titleSavings">FONDO</div>
  </ons-toolbar>

  <div id="savingMainContainer"></div>

  <ons-fab position="bottom right" onclick="pushToDetailSaving()">
    <i class="icon ion-md-create" style="font-size: 35px;"></i>
  </ons-fab>

  <!--ALERT PARA AÑADIR UN GASTO-->
  <ons-alert-dialog id="alertToAddExpenseSaving" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="addExpenseSavingAlertTitle">AÑADIR GASTO AL FONDO</div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px;">
        <div style="text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;" id="addExpenseSavingAlertCat">CATEGORÍA: </label>
          <select id="selectOptioCa">
            <!--AQUI SE CARGAN LAS CATEGORÍAS-->
          </select>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertNote">NOTA DEL GASTO</p>
          <ons-input
            id="alertExpenseNoteSaving"
            modifier="underbar"
            placeholder=""
            type="text"
            style="display: block;"
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertExpensed">DINERO GASTADO</p>
          <ons-input
            id="alertExpenseMoneySaving"
            modifier="underbar"
            placeholder=""
            type="number"
            style="display: block;"
            disabled
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertDate">FECHA DEL GASTO</p>
          <ons-input
            id="alertExpenseDateSaving"
            modifier="underbar"
            placeholder=""
            type="date"
            style="display: block;"
          ></ons-input>
        </div>

        <div style="margin-top: 16px; text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;" id="addExpenseSavingAlertWhere">RESTAR A: </label>
          <select id="selectOption">
            <!--AQUI SE CARGAN LOS POSIBLES GASTOS-->
          </select>
        </div>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSavingNoChange()" id="addExpenseSavingAlertCancel"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSaving()" id="addExpenseSavingAlertFinished"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

  <!--ALERT PARA EDITAR DINERO-->
  <ons-alert-dialog id="alertEditSavingMoney" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="modifyMoneyAlertSavingTitle">AÑADIR/QUITAR DINERO AL FONDO</div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <p>
          <label style="color: var(--alert-custom-label)" id="modifyMoneyAlertSavingActual">
            <!--dinero actual-->
          </label>

          <div>
            <p style="margin: 0px auto -16px 12px; text-align: left;" id="modifyMoneyAlertSavingWhat">QUIERO AÑADIR / QUITAR</p>
            <ons-input
              onchange="makeSavingOperation()"
              onkeypress="this.onchange()"
              oninput="this.onchange()"
              id="alertInputSaving"
              modifier="underbar"
              placeholder=""
              type="number"
              style="display: block; margin: -10px auto 16px"
            ></ons-input>
          </div>

          <label style="color: var(--alert-custom-label)" id="modifyMoneyAlertSavingNew">
              <!--dinero nuevo-->
          </label>
        </p>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="closeAlertSavingNoChange()" id="modifyMoneyAlertSavingCancel"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="closeAlertSaving()" id="modifyMoneyAlertSavingFinished"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

    <!--ALERT PARA VER QUE HACER SI QUEDA DINERO DISPONIBLE-->
    <ons-alert-dialog id="alertMoneyLeft" modifier="material">
      <div class="alert-dialog-title" style="text-align: center" id="leftSavingAlertTitle">Quedó dinero disponible, ¿qué quieres hacer con el?</div>
  
      <div class="alert-dialog-content">
        <div style="text-align: center; margin-top: 16px;">
          <label style="color: var(--alert-custom-label)" id="leftSavingAlertMoneyLeft">
            <!--dinero restante-->
          </label>

          <ons-list style="background: none;">

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-1')">
              <label class="left">
                <ons-radio name="option" input-id="radio-1" checked></ons-radio>
              </label>
              <label for="radio-1" class="center daysTitle" style="text-align: left; margin: 0px;" id="leftSavingAlertAddTo">
                Añadir al día siguiente
              </label>
            </ons-list-item>

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-2')">
              <label class="left">
                <ons-radio name="option" input-id="radio-2"></ons-radio>
              </label>
              <label for="radio-2" class="center daysTitle" style="text-align: left; margin: 0px;" id="leftSavingAlertToMoney">
                Añadir a 'MI DINERO'
              </label>
            </ons-list-item>

            <div id="containerAlertAddMoneyLeft" style="text-align: center; margin-top: 16px;">
              <!-- AQUI SE CARGA LAS OPCIONES PARA DONDE AÑADIR-->
            </div>

          </ons-list>
        </div>
      </div>
  
      <div class="alert-dialog-footer">
        <ons-alert-dialog-button onclick="cancelAddLeftMoney()" id="leftSavingAlertCancel"
          >Cancelar</ons-alert-dialog-button
        >
        <ons-alert-dialog-button onclick="addToMoneyLeftMoney()" id="leftSavingAlertFinished"
          >Listo!</ons-alert-dialog-button
        >
      </div>
    </ons-alert-dialog>
    <!----------------------------------------------------------------->

  <script>
    document.addEventListener(
      "init",
      function (event) {
        if (event.target.matches("#savings")) {
          localStorage.setItem("actuaPage", "savings.html");

          let languaje = localStorage.getItem("storageSwitchLanguage");
          if (languaje == 'false') {
            document.getElementById('titleSavings').innerHTML = 'SAVED';
            document.getElementById('addExpenseSavingAlertTitle').innerHTML = 'ADD EXPENSES TO THE FUND';
            document.getElementById('addExpenseSavingAlertCat').innerHTML = 'CATEGORY:';
            document.getElementById('addExpenseSavingAlertNote').innerHTML = 'EXPENDITURE NOTE';
            document.getElementById('addExpenseSavingAlertExpensed').innerHTML = 'SPENT MONEY';
            document.getElementById('addExpenseSavingAlertDate').innerHTML = 'DATE OF EXPENDITURE';
            document.getElementById('addExpenseSavingAlertWhere').innerHTML = 'SUBTRACT TO:';
            document.getElementById('addExpenseSavingAlertCancel').innerHTML = 'CANCEL';
            document.getElementById('addExpenseSavingAlertFinished').innerHTML = 'FINISHED!';
            
            document.getElementById('modifyMoneyAlertSavingTitle').innerHTML = 'MODIFY MONEY TO THE FUND';
            document.getElementById('modifyMoneyAlertSavingActual').innerHTML = 
            `CURRENT MONEY: $
            <label
              id="alertAddSaving"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >`;
            document.getElementById('modifyMoneyAlertSavingWhat').innerHTML = 'I WANT TO ADD / REMOVE';
            document.getElementById('modifyMoneyAlertSavingNew').innerHTML = 
            `NEW QUANTITY: $
            <label
              id="alertAddSavingEnd"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >`;
            document.getElementById('modifyMoneyAlertSavingCancel').innerHTML = 'CANCEL';
            document.getElementById('modifyMoneyAlertSavingFinished').innerHTML = 'FINISHED!';

            document.getElementById('leftSavingAlertTitle').innerHTML = 'Money was available, what do you want to do with it?';
            document.getElementById('leftSavingAlertMoneyLeft').innerHTML = 
            `REMAINING MONEY: $ 
            <span id="leftMoneyToAlert" style="color: var(--alert-custom-label-money)"></span>`;
            document.getElementById('leftSavingAlertAddTo').innerHTML = 'Add the next day';
            document.getElementById('leftSavingAlertToMoney').innerHTML = `Add to 'MY MONEY'`;
            document.getElementById('leftSavingAlertCancel').innerHTML = 'CANCEL';
            document.getElementById('leftSavingAlertFinished').innerHTML = 'FINISHED!';

          } else {

            document.getElementById('titleSavings').innerHTML = 'FONDO';
            document.getElementById('addExpenseSavingAlertTitle').innerHTML = 'AÑADIR GASTO AL FONDO';
            document.getElementById('addExpenseSavingAlertCat').innerHTML = 'CATEGORÍA:';
            document.getElementById('addExpenseSavingAlertNote').innerHTML = 'NOTA DEL GASTO';
            document.getElementById('addExpenseSavingAlertExpensed').innerHTML = 'DINERO GASTADO';
            document.getElementById('addExpenseSavingAlertDate').innerHTML = 'FECHA DEL GASTO';
            document.getElementById('addExpenseSavingAlertWhere').innerHTML = 'RESTAR A:';
            document.getElementById('addExpenseSavingAlertCancel').innerHTML = 'CANCELAR';
            document.getElementById('addExpenseSavingAlertFinished').innerHTML = 'LISTO!';
            
            document.getElementById('modifyMoneyAlertSavingTitle').innerHTML = 'MODIFICAR DINERO AL FONDO';
            document.getElementById('modifyMoneyAlertSavingActual').innerHTML = 
            `DINERO ACTUAL: $
            <label
              id="alertAddSaving"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >`;
            document.getElementById('modifyMoneyAlertSavingWhat').innerHTML = 'QUIERO AÑADIR / QUITAR';
            document.getElementById('modifyMoneyAlertSavingNew').innerHTML = 
            `CANTIDAD NUEVA: $
            <label
              id="alertAddSavingEnd"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >`;
            document.getElementById('modifyMoneyAlertSavingCancel').innerHTML = 'CANCELAR';
            document.getElementById('modifyMoneyAlertSavingFinished').innerHTML = 'LISTO!';

            document.getElementById('leftSavingAlertTitle').innerHTML = 'Quedó dinero disponible, ¿qué quieres hacer con el?';
            document.getElementById('leftSavingAlertMoneyLeft').innerHTML = 
            `DINERO RESTANTE: $ 
            <span id="leftMoneyToAlert" style="color: var(--alert-custom-label-money)"></span>`;
            document.getElementById('leftSavingAlertAddTo').innerHTML = 'Añadir al día siguiente';
            document.getElementById('leftSavingAlertToMoney').innerHTML = `Añadir a 'MI DINERO'`;
            document.getElementById('leftSavingAlertCancel').innerHTML = 'CANCEL';
            document.getElementById('leftSavingAlertFinished').innerHTML = 'LISTO!';
          }
          loadSaving();
        }
      },
      false
    );
  </script>
</ons-page>