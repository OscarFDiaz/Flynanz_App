<ons-page id="detailGoal">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <ons-back-button></ons-back-button>
    <div class="center labelToolbar" id="titleDetailGoal">Aquí se carga el nombre de la meta</div>
  </ons-toolbar>

  <!--SE CARGA LOS DETALLES DE LA META-->
  <div id="goalDetailContainer"></div>

  <!-- ALERT DIALOG PARA EDITAR TODA LA META-->
  <ons-alert-dialog id="my-alert-dialog" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="modifyGoalTitle">Modificar meta</div>
    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="goalNameAlertEdit">NOMBRE DE LA META</p>
          <ons-input id="editGoalName" modifier="underbar" placeholder="" type="text" style="display: block"></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto 0px 12px; text-align: left; padding-top: 16px" id="goalDescriptionAlertEdit">DESCRIPCIÓN</p>
          <textarea id="editGoalDescription" class="textarea" rows="5" placeholder=""></textarea>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="goalMoneyAlertEdit">DINERO NECESARIO</p>
          <ons-input id="editGoalMoney" modifier="underbar" placeholder="" type="number" style="display: block"></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="goalMoneyActualAlertEdit">
            DINERO ACTUAL
          </p>
          <ons-input id="editActualGoalMoney" modifier="underbar" placeholder="" type="number" style="display: block"></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="goalDateAlertEdit">FECHA META</p>
          <ons-input id="editGoalDate" modifier="underbar" placeholder="" type="date" style="display: block"></ons-input>
        </div>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="hideAlertNoChange()" id="goalCancelButtonAlertEdit">Cancelar</ons-alert-dialog-button>
      <ons-alert-dialog-button onclick="hideAlertDialog()" id="goalFinishedButtonAlertEdit">Listo!</ons-alert-dialog-button>
    </div>
  </ons-alert-dialog>

  <!--ALERT PARA EDITAR UNICAMENTE EL DINERO-->
  <ons-alert-dialog id="alertEditGoalMoney" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="modifyGoalTitleMoney">Modificar dinero</div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <label style="color: var(--alert-custom-label)" id="goalCurrentMoneyAlertEdit">
          <!--SE INSERTA EN EL LISTENER-->
        </label>

        <div id="alertEditGoalMoneyOptionsAlert">
          <ons-button
            class="moneyButtonAdd"
            onclick="insertActionEditGoal('add')"
            style="margin-bottom: 16px; margin-top: 16px; margin-left: 0px; width: 90%"
            id="newMoneyCancelButton"
          >
            <i class="icon ion-md-add" style="font-size: 14px; margin-right: 16px"></i>
            Añadir dinero
          </ons-button>

          <ons-button
            class="moneyButtonAdd"
            onclick="insertActionEditGoal('remove')"
            style="margin-bottom: 16px; margin-left: 0px; width: 90%"
            id="newMoneyCancelButton"
          >
            <i class="icon ion-md-remove" style="font-size: 14px; margin-right: 16px"></i>
            Restar dinero
          </ons-button>
        </div>

        <label style="color: var(--alert-custom-label)" id="goalNewMoneyAlertEdit">
          <!--SE INSERTA EN EL LISTENER-->
        </label>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="hideAlertNoChangeMoney()" id="goalCancelButtonMoneyAlertEdit"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="hideAlertDialogMoney()" id="goalFinishedButtonMoneyAlertEdit"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>

  <script>
    document.addEventListener(
      'init',
      function (event) {
        if (event.target.matches('#detailGoal')) {
          loadDetailGoal();

          let languaje = localStorage.getItem('storageSwitchLanguage');
          if (languaje == 'false') {
            /* ALERT QUE MODIFICA TODO */
            document.getElementById('modifyGoalTitle').innerHTML = 'Modify goal';
            document.getElementById('goalNameAlertEdit').innerHTML = 'Name of the goal';
            document.getElementById('goalDescriptionAlertEdit').innerHTML = 'Description';
            document.getElementById('goalMoneyAlertEdit').innerHTML = 'Money needed';
            document.getElementById('goalMoneyActualAlertEdit').innerHTML = 'Current money';
            document.getElementById('goalDateAlertEdit').innerHTML = 'Goal date';
            document.getElementById('goalCancelButtonAlertEdit').innerHTML = 'Cancel';
            document.getElementById('goalFinishedButtonAlertEdit').innerHTML = 'Finished!';

            /* ALERT QUE MODIFICA DINERO */
            document.getElementById('modifyGoalTitleMoney').innerHTML = 'Modify money';
            document.getElementById('goalCurrentMoneyAlertEdit').innerHTML = `Current money: $
            <label id="editOnlyMoneyActualMoney" style="color: var(--alert-custom-label-money)">0</label>`;
            document.getElementById('goalNewMoneyAlertEdit').innerHTML = `New amount: $
            <label id="editOnlyEndMoney" style="color: var(--alert-custom-label-money)">0</label>`;
            document.getElementById('goalCancelButtonMoneyAlertEdit').innerHTML = 'Cancel';
            document.getElementById('goalFinishedButtonMoneyAlertEdit').innerHTML = 'Finished!';
          } else {
            /* ALERT QUE MODIFICA TODO */
            document.getElementById('modifyGoalTitle').innerHTML = 'Modificar meta';
            document.getElementById('goalNameAlertEdit').innerHTML = 'Nombre de la meta';
            document.getElementById('goalDescriptionAlertEdit').innerHTML = 'Descripción';
            document.getElementById('goalMoneyAlertEdit').innerHTML = 'Dinero necesario';
            document.getElementById('goalMoneyActualAlertEdit').innerHTML = 'Dinero actual';
            document.getElementById('goalDateAlertEdit').innerHTML = 'Fecha meta';
            document.getElementById('goalCancelButtonAlertEdit').innerHTML = 'Cancelar';
            document.getElementById('goalFinishedButtonAlertEdit').innerHTML = 'Listo!';

            /* ALERT QUE MODIFICA DINERO */
            document.getElementById('modifyGoalTitleMoney').innerHTML = 'Modificar dinero';
            document.getElementById('goalCurrentMoneyAlertEdit').innerHTML = `Dinero actual: $
            <label id="editOnlyMoneyActualMoney" style="color: var(--alert-custom-label-money)">0</label>`;
            document.getElementById('goalNewMoneyAlertEdit').innerHTML = `Cantidad nueva: $
            <label id="editOnlyEndMoney" style="color: var(--alert-custom-label-money)">0</label>`;
            document.getElementById('goalCancelButtonMoneyAlertEdit').innerHTML = 'Cancelar';
            document.getElementById('goalFinishedButtonMoneyAlertEdit').innerHTML = 'Listo!';
          }
        }
      },
      false
    );
  </script>
</ons-page>
