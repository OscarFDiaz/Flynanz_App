<ons-page id="expensesPage">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <i class="menuButtonIcon ion-md-menu"></i>
      </ons-toolbar-button>
    </div>
    <div class="center labelToolbar" id="titleExpensesMain">Gastos</div>
  </ons-toolbar>

  <div id="expensesContainer"></div>

  <ons-fab
    position="bottom right"
    onclick="pushToNewExpense()"
    style="display: flex; justify-content: space-around"
  >
    <img
      src="./assets/icons/addButton.png"
      alt="saving icon"
      style="width: 32px; margin-top: 30%"
    />
  </ons-fab>

  <!--ALERT PARA AÑADIR UN GASTO-->
  <ons-alert-dialog id="alertToAddExpense" modifier="material">
    <div
      class="alert-dialog-title"
      style="text-align: center"
      id="expensesMainNewExpense"
    >
      AÑADIR NUEVO GASTO
    </div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <div>
          <p
            style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px"
            id="expensesMainNote"
          >
            NOTA DEL GASTO
          </p>
          <ons-input
            id="alertExpenseNote"
            modifier="underbar"
            placeholder=""
            type="text"
            style="display: block"
          ></ons-input>
        </div>

        <div>
          <p
            style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px"
            id="expensesMainAmount"
          >
            DINERO GASTADO
          </p>
          <ons-input
            id="alertExpenseMoney"
            modifier="underbar"
            placeholder=""
            type="number"
            style="display: block"
          ></ons-input>
        </div>

        <div>
          <p
            style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px"
            id="expensesMainDate"
          >
            FECHA DEL GASTO
          </p>
          <ons-input
            id="alertExpenseDate"
            modifier="underbar"
            placeholder=""
            type="date"
            style="display: block"
          ></ons-input>
        </div>

        <div style="padding-top: 16px; text-align: left">
          <label
            style="color: var(--alert-tile-color); margin-left: 12px"
            id="expensesMainRest"
            >RESTAR A:
          </label>
          <select id="selectOptio">
            <!--AQUI SE CARGAN LOS POSIBLES GASTOS-->
          </select>
        </div>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button
        onclick="hideAlertExpenseNoChange()"
        id="expensesMainCancel"
        >CANCELAR</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="hideAlertExpense()" id="expensesMainFinished"
        >LISTO!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

  <script>
    document.addEventListener(
      'show',
      function (event) {
        if (event.target.matches('#expensesPage')) {
          ons.ready(function () {
            let lang = getLang('expense');

            document.getElementById('titleExpensesMain').innerHTML = lang.title;
            document.getElementById('expensesMainNewExpense').innerHTML = lang.addNew;
            document.getElementById('expensesMainNote').innerHTML = lang.note;
            document.getElementById('expensesMainAmount').innerHTML = lang.expensedMoney;
            document.getElementById('expensesMainDate').innerHTML = lang.date;
            document.getElementById('expensesMainRest').innerHTML = `${lang.subTo} `;
            document.getElementById('expensesMainCancel').innerHTML = lang.cancel;
            document.getElementById('expensesMainFinished').innerHTML = lang.ready;

            localStorage.setItem('actuaPage', 'expenses.html');
            getExpenses();
          });
        }
      },
      false,
    );
  </script>
</ons-page>
