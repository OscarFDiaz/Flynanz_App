<ons-page id="userHome">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <i class="menuButtonIcon ion-md-menu"></i>
      </ons-toolbar-button>
    </div>
    <div class="center labelToolbar" id="titleSplitterUser">Inicio</div>
  </ons-toolbar>

  <div id="homeOptionsContainer"></div>

  <script>
    document.addEventListener(
      'show',
      function (event) {
        let languaje = localStorage.getItem('storageSwitchLanguage');

        if (event.target.matches('#userHome')) {
          document.getElementById('titleSplitterUser').innerHTML = getLang(
            'userpage_userhome_title',
          );
          saveToStorage('actuaPage', 'userHome.html');
          checkOptions();
        }

        // MODIFICO EL LISTENER DEL BACK BUTTON PARA CONFIRMAS SALIDA DE APLICACIÃ“N
        ons.setDefaultDeviceBackButtonListener(function (event) {
          ons.notification
            .confirm(getLang('userpage_userhome_leave'), {
              title: getLang('title_notice'),
              buttonLabels: [
                getLang('userpage_userhome_cancel'),
                getLang('userpage_userhome_confirm'),
              ],
            }) // Ask for confirmation
            .then(function (index) {
              if (index === 1) {
                // OK button
                navigator.app.exitApp(); // Close the app
              }
            });
        });
      },
      false,
    );
  </script>
</ons-page>
