<ons-page id="savings">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <i class="menuButtonIcon ion-md-menu"></i>
      </ons-toolbar-button>
    </div>
    <div class="center labelToolbar" id="titleSavings">Fondo</div>
  </ons-toolbar>

  <div id="savingMainContainer"></div>

  <ons-fab position="bottom right" onclick="pushToDetailSaving()" style="display: flex; justify-content: space-around">
    <img src="./assets/icons/addButton.png" alt="saving icon" style="width: 32px; margin-top: 30%" />
  </ons-fab>

  <!--ALERT PARA AÑADIR UN GASTO-->
  <ons-alert-dialog id="alertToAddExpenseSaving" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="addExpenseSavingAlertTitle">AÑADIR GASTO AL FONDO</div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px;">
        <div style="text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;" id="addExpenseSavingAlertCat">CATEGORÍA: </label>
          <select id="selectOptioCa">
            <!--AQUI SE CARGAN LAS CATEGORÍAS-->
          </select>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertNote">NOTA DEL GASTO</p>
          <ons-input
            id="alertExpenseNoteSaving"
            modifier="underbar"
            placeholder=""
            type="text"
            style="display: block;"
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertExpensed">DINERO GASTADO</p>
          <ons-input
            id="alertExpenseMoneySaving"
            modifier="underbar"
            placeholder=""
            type="number"
            style="display: block;"
            disabled
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px" id="addExpenseSavingAlertDate">FECHA DEL GASTO</p>
          <ons-input
            id="alertExpenseDateSaving"
            modifier="underbar"
            placeholder=""
            type="date"
            style="display: block;"
          ></ons-input>
        </div>

        <div style="margin-top: 16px; text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;" id="addExpenseSavingAlertWhere">RESTAR A: </label>
          <select id="selectOption">
            <!--AQUI SE CARGAN LOS POSIBLES GASTOS-->
          </select>
        </div>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSavingNoChange()" id="addExpenseSavingAlertCancel"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSaving()" id="addExpenseSavingAlertFinished"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

  <!--ALERT PARA EDITAR DINERO-->
  <ons-alert-dialog id="alertEditSavingMoney" modifier="material">
    <div class="alert-dialog-title" style="text-align: center" id="modifyMoneyAlertSavingTitle">AÑADIR/QUITAR DINERO AL FONDO</div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <p>
          <label style="color: var(--alert-custom-label)" id="modifyMoneyAlertSavingActual">
            <!--dinero actual-->
          </label>

          <div id="alertEditSavingMoneyOptionsAlert">
            <ons-button
              class="moneyButtonAdd"
              onclick="insertActionEditFund('add')"
              style="margin-bottom: 16px; margin-left: 0px; width: 90%"
              id="newMoneyCancelButton"
            >
              <i class="icon ion-md-add" style="font-size: 14px; margin-right: 16px"></i>
              AÑADIR DINERO
            </ons-button>
  
            <ons-button
              class="moneyButtonAdd"
              onclick="insertActionEditFund('remove')"
              style="margin-bottom: 16px; margin-left: 0px; width: 90%"
              id="newMoneyCancelButton"
            >
              <i class="icon ion-md-remove" style="font-size: 14px; margin-right: 16px"></i>
              RESTAR DINERO
            </ons-button>
          </div>

          <label style="color: var(--alert-custom-label)" id="modifyMoneyAlertSavingNew">
              <!--dinero nuevo-->
          </label>
        </p>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="closeAlertSavingNoChange()" id="modifyMoneyAlertSavingCancel"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="closeAlertSaving()" id="modifyMoneyAlertSavingFinished"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

    <!--ALERT PARA VER QUE HACER SI QUEDA DINERO DISPONIBLE-->
    <ons-alert-dialog id="alertMoneyLeft" modifier="material">
      <div class="alert-dialog-title" style="text-align: center" id="leftSavingAlertTitle">Quedó dinero disponible, ¿qué quieres hacer con el?</div>
  
      <div class="alert-dialog-content">
        <div style="text-align: center; margin-top: 16px;">
          <label style="color: var(--alert-custom-label)" id="leftSavingAlertMoneyLeft">
            <!--dinero restante-->
          </label>

          <ons-list style="background: none;">

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-1')">
              <label class="left">
                <ons-radio name="option" input-id="radio-1" checked></ons-radio>
              </label>
              <label for="radio-1" class="center daysTitle" style="text-align: left; margin: 0px;" id="leftSavingAlertAddTo">
                Añadir al día siguiente
              </label>
            </ons-list-item>

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-2')">
              <label class="left">
                <ons-radio name="option" input-id="radio-2"></ons-radio>
              </label>
              <label for="radio-2" class="center daysTitle" style="text-align: left; margin: 0px;" id="leftSavingAlertToMoney">
                Añadir a 'MI DINERO'
              </label>
            </ons-list-item>

            <div id="containerAlertAddMoneyLeft" style="text-align: center; margin-top: 16px;">
              <!-- AQUI SE CARGA LAS OPCIONES PARA DONDE AÑADIR-->
            </div>

          </ons-list>
        </div>
      </div>
  
      <div class="alert-dialog-footer">
        <ons-alert-dialog-button onclick="cancelAddLeftMoney()" id="leftSavingAlertCancel"
          >Cancelar</ons-alert-dialog-button
        >
        <ons-alert-dialog-button onclick="addToMoneyLeftMoney()" id="leftSavingAlertFinished"
          >Listo!</ons-alert-dialog-button
        >
      </div>
    </ons-alert-dialog>
    <!----------------------------------------------------------------->

  <script>
    document.addEventListener(
      "init",
      function (event) {
        if (event.target.matches("#savings")) {

          localStorage.setItem("actuaPage", "pages/savingPage/savings.html");

          const lang = getLang('saving');

          document.getElementById('titleSavings').innerHTML = getLang('menuOptions').saved;
          document.getElementById('addExpenseSavingAlertTitle').innerHTML = lang.addExpense;
          document.getElementById('addExpenseSavingAlertCat').innerHTML = lang.category;
          document.getElementById('addExpenseSavingAlertNote').innerHTML = lang.note;
          document.getElementById('addExpenseSavingAlertExpensed').innerHTML = lang.expensed;
          document.getElementById('addExpenseSavingAlertDate').innerHTML = lang.date;
          document.getElementById('addExpenseSavingAlertWhere').innerHTML = lang.restTo;
          document.getElementById('addExpenseSavingAlertCancel').innerHTML = lang.cancel;
          document.getElementById('addExpenseSavingAlertFinished').innerHTML = lang.ready;
          
          document.getElementById('modifyMoneyAlertSavingTitle').innerHTML = lang.modify;
          document.getElementById('modifyMoneyAlertSavingActual').innerHTML = 
          `${lang.actualMoney}: $
          <label
            id="alertAddSaving"
            style="color: var(--alert-custom-label-money)"
            >0</label
          >`;
          document.getElementById('modifyMoneyAlertSavingNew').innerHTML = 
          `${lang.newMoney}: $
          <label
            id="alertAddSavingEnd"
            style="color: var(--alert-custom-label-money)"
            >0</label
          >`;
          document.getElementById('modifyMoneyAlertSavingCancel').innerHTML = lang.cancel;
          document.getElementById('modifyMoneyAlertSavingFinished').innerHTML = lang.ready;

          document.getElementById('leftSavingAlertTitle').innerHTML = lang.leftMoney;
          document.getElementById('leftSavingAlertMoneyLeft').innerHTML = 
          `${lang.leftAmount}: $ 
          <span id="leftMoneyToAlert" style="color: var(--alert-custom-label-money)"></span>`;
          document.getElementById('leftSavingAlertAddTo').innerHTML = lang.nextDay;
          document.getElementById('leftSavingAlertToMoney').innerHTML = lang.addToMoney;
          document.getElementById('leftSavingAlertCancel').innerHTML = lang.cancel;
          document.getElementById('leftSavingAlertFinished').innerHTML = lang.ready;
          loadSaving();
        }
      },
      false
    );
  </script>
</ons-page>